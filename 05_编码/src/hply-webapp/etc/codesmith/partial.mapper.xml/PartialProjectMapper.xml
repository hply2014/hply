<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="hply.mapper.partial.PartialProjectMapper">

  <insert id="insert" parameterType="Project">
    insert into t_project(id, project_code, project_name, organization_id, party_name, party_address, manager, contract_code, corperation, legal_assignee, is_withholding_offsite, management_rate, tax_rate, contract_amount, settlement_amount, duty_paid_time, duty_paid_amount, duty_paid_code, capital_occupied, project_status, trice, create_time, create_user, update_time, update_user, description, status, management_plan_amount, tax_plan_amount) values ( #{id}, #{projectCode}, #{projectName}, #{organizationId}, #{partyName}, #{partyAddress}, #{manager}, #{contractCode}, #{corperation}, #{legalAssignee}, #{isWithholdingOffsite}, #{managementRate}, #{taxRate}, #{contractAmount}, #{settlementAmount}, #{dutyPaidTime}, #{dutyPaidAmount}, #{dutyPaidCode}, #{capitalOccupied}, #{projectStatus}, #{trice}, now(), #{createUser}, now(), #{createUser}, #{description}, #{status}, #{managementPlanAmount}, #{taxPlanAmount} )
  </insert>

  <update id="update" parameterType="map">
    update t_project set project_code = #{projectCode}, project_name = #{projectName}, organization_id = #{organizationId}, party_name = #{partyName}, party_address = #{partyAddress}, manager = #{manager}, contract_code = #{contractCode}, corperation = #{corperation}, legal_assignee = #{legalAssignee}, is_withholding_offsite = #{isWithholdingOffsite}, management_rate = #{managementRate}, tax_rate = #{taxRate}, contract_amount = #{contractAmount}, settlement_amount = #{settlementAmount}, duty_paid_time = #{dutyPaidTime}, duty_paid_amount = #{dutyPaidAmount}, duty_paid_code = #{dutyPaidCode}, capital_occupied = #{capitalOccupied}, project_status = #{projectStatus}, trice = #{trice},  update_time = now(), update_user = #{updateUser}, description = #{description}, status = #{status}, management_plan_amount = #{managementPlanAmount}, tax_plan_amount = #{taxPlanAmount}, version = version + 1 where id = #{id}
  </update>

  <delete id="delete" parameterType="string">
    delete from t_project where id = #{id}
  </delete>

  <select id="get" parameterType="string" resultType="Project">
    select id as id, project_code as projectCode, project_name as projectName, organization_id as organizationId, party_name as partyName, party_address as partyAddress, manager as manager, contract_code as contractCode, corperation as corperation, legal_assignee as legalAssignee, is_withholding_offsite as isWithholdingOffsite, management_rate as managementRate, tax_rate as taxRate, contract_amount as contractAmount, settlement_amount as settlementAmount, duty_paid_time as dutyPaidTime, duty_paid_amount as dutyPaidAmount, duty_paid_code as dutyPaidCode, capital_occupied as capitalOccupied, project_status as projectStatus, trice as trice, create_time as createTime, create_user as createUser, update_time as updateTime, update_user as updateUser, description as description, version as version, status as status, management_plan_amount as managementPlanAmount, tax_plan_amount as taxPlanAmount from t_project where id = #{id}
  </select>
  
  <select id="getVersion" parameterType="string" resultType="int">
    select version from t_project where id = #{id}
  </select>

  <select id="getAll" resultType="Project">
    select id as id, project_code as projectCode, project_name as projectName, organization_id as organizationId, party_name as partyName, party_address as partyAddress, manager as manager, contract_code as contractCode, corperation as corperation, legal_assignee as legalAssignee, is_withholding_offsite as isWithholdingOffsite, management_rate as managementRate, tax_rate as taxRate, contract_amount as contractAmount, settlement_amount as settlementAmount, duty_paid_time as dutyPaidTime, duty_paid_amount as dutyPaidAmount, duty_paid_code as dutyPaidCode, capital_occupied as capitalOccupied, project_status as projectStatus, trice as trice, create_time as createTime, create_user as createUser, update_time as updateTime, update_user as updateUser, description as description, version as version, status as status, management_plan_amount as managementPlanAmount, tax_plan_amount as taxPlanAmount from t_project
  </select>

</mapper>

