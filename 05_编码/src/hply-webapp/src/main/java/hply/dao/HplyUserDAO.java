/**
  * @Template info: 2013/08/16, Chengqiyi, Beijing ieforever Corporation in HFP Project.
  * ChengQiyi create in 2014/6/25 21:59:53
  * This class generated by CodeSmith Generator
  */

package hply.dao;

import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.List;
import org.springframework.jdbc.core.RowMapper;
import hply.domain.HplyUser;

/**
  * 数据操作类，对应的数据库表： [t_hply_user]
  * 
  */
public class HplyUserDAO extends BaseDAO {

	private HplyUserDAO instance = new HplyUserDAO();

	public HplyUserDAO getInstance() {
		return instance;
	}
    
	public HplyUser getById(String id) {
		HplyUser obj = jdbcTemplate.queryForObject(
				"select * from t_hply_user where id=?", mapper, id);
		return obj;
	}

	public List<HplyUser> getList() {
		List<HplyUser> list = jdbcTemplate.query("select * from t_hply_user",
				mapper);
		return list;
	}

	public int insert(HplyUser model) {
		final String SQL_INSERT = "insert into t_hply_user(id, login_id, password, real_name, last_login_ip, last_login_time, login_count, fail_count, lock_time, create_user_id, create_time, enabled, level, description) values( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )";
		return jdbcTemplate.update(SQL_INSERT, model.getId(), model.getLoginId(), model.getPassword(), model.getRealName(), model.getLastLoginIp(), model.getLastLoginTime(), model.getLoginCount(), model.getFailCount(), model.getLockTime(), model.getCreateUserId(), model.getCreateTime(), model.getEnabled(), model.getLevel(), model.getDescription());
	}

	public int updateById(HplyUser model) {
        final String SQL_UPDATE = "update t_hply_user set login_id = ?, password = ?, real_name = ?, last_login_ip = ?, last_login_time = ?, login_count = ?, fail_count = ?, lock_time = ?, create_user_id = ?, create_time = ?, enabled = ?, level = ?, description = ? where id= ?";
		return jdbcTemplate.update(SQL_UPDATE, model.getLoginId(), model.getPassword(), model.getRealName(), model.getLastLoginIp(), model.getLastLoginTime(), model.getLoginCount(), model.getFailCount(), model.getLockTime(), model.getCreateUserId(), model.getCreateTime(), model.getEnabled(), model.getLevel(), model.getDescription(), model.getId());
	}

	public int deleteById(String id) {
		return jdbcTemplate.update("delete from t_hply_user where id=?", id);
	}

	private final RowMapper<HplyUser> mapper = new RowMapper<HplyUser>() {
		public HplyUser mapRow(ResultSet rs, int rowNum)
				throws SQLException {
			HplyUser obj = new HplyUser();
            obj.setId( rs.getString("id") );
            obj.setLoginId( rs.getString("login_id") );
            obj.setPassword( rs.getString("password") );
            obj.setRealName( rs.getString("real_name") );
            obj.setLastLoginIp( rs.getString("last_login_ip") );
            obj.setLastLoginTime( rs.getDate("last_login_time") );
            obj.setLoginCount( rs.getInt("login_count") );
            obj.setFailCount( rs.getInt("fail_count") );
            obj.setLockTime( rs.getDate("lock_time") );
            obj.setCreateUserId( rs.getString("create_user_id") );
            obj.setCreateTime( rs.getDate("create_time") );
            obj.setEnabled( rs.getString("enabled") );
            obj.setLevel( rs.getInt("level") );
            obj.setDescription( rs.getString("description") );;
			return obj;
		}
	};
    
//======================================================================================
// TODO: 附加的其他方法 （ hply.dao.HplyUserDAO ）
//======================================================================================


}

